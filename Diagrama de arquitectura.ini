                 ┌───────────────┐
                 │  Usuario      │
                 │ WhatsApp /    │
                 │ Messenger /   │
                 │ Instagram     │
                 └──────┬────────┘
                        │ Mensaje entrante
                        ▼
                 ┌───────────────┐
                 │   Twilio /    │
                 │  360dialog    │
                 │  (Webhook)    │
                 └──────┬────────┘
                        │ Webhook POST
                        ▼
                 ┌───────────────┐
                 │  FastAPI Bot  │
                 │  (Tu código)  │
                 │               │
                 │ - Detecta nombre, contacto, área
                 │ - Asigna asesor
                 │ - Genera token confirmación
                 │ - Guarda historial en MongoDB
                 └──────┬────────┘
                        │ Mensaje / Link confirmación
                        ▼
                ┌───────────────┐
                │   Asesor      │
                │  WhatsApp     │
                │  / Telegram   │
                └──────┬────────┘
                       │ Confirmación click
                       ▼
                 ┌───────────────┐
                 │ FastAPI Bot   │
                 │ - Marca confirmado
                 │ - Si no confirma en 5 min → reasignar
                 └──────┬────────┘
                        │ Datos actualizados
                        ▼
                ┌───────────────┐
                │ MongoDB Atlas │
                │ - Clientes    │
                │ - Historial   │
                │ - Estado      │
                └──────┬────────┘
                       │ Lectura / Escritura
                       ▼
             ┌─────────────────────┐
             │ Panel de control    │
             │ (Appsmith / Retool) │
             │ - Ver clientes      │
             │ - Activar / Inactivar│
             │   asesores          │
             │ - Reasignación manual│
             └─────────────────────┘
